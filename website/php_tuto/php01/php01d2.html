<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les instructions de contrôle</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>

</head>
<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>

		<ul id="MENU-page"></ul>


		<h3>Boucle avec while</h3>
		<section>

			<table class="TAB-sans-bord">
				<tr>
					<td><pre data-code="PHP">
while (condition) {
	instruction;
	...
}</pre></td>
					<td class="fp-t-center"><img src="../phpimg/while.gif"
						width="172" height="238" alt=""></td>
				</tr>
			</table>
			<p class="fp-puce">
				<span class="fp-code">while</span> exécute la commande ou le bloc de
				commandes tant que la condition est évalue comme <span
					class="fp-code">true</span>.
			</p>
			<p class="fp-puce">
				L'instruction <span class="fp-code">break</span> permet de forcer la
				sortie de la boucle.<br>Dans le cas de boucles imbriquées, <span
					class="fp-code">break</span> peut être suivi d'un nombre indiquant
				le nombre d'imbriquations à arrêter.
			</p>
			<p class="fp-puce">
				L'instruction <span class="fp-code">continue</span> permet de sauter
				à la prochaine itération dans la boucle.<br> Dans le cas de
				boucles imbriquées, <span class="fp-code">continue</span> peut être
				suivi d'un nombre indiquant le nombre d'imbriquations à sauter.
			</p>
			<p class="fp-puce">
				PHP supporte aussi les boucles <span class="fp-code">do ...
					while</span> avec la syntaxe :
			<pre data-code="PHP">
do {
	instruction;
	...
} while (condition);</pre>

			<form action="" method="post" class="TEST-form">
				<div class="TEST-titre">
					<strong>Exemple</strong> : boucle while
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
&lt;head&gt;&lt;title&gt;boucle while&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
$nombre = 123;
$divise = $nombre - 1;

//------------------------------------------------------
while ($nombre % $divise != 0){
  $divise --;
  if ($divise &lt; 2) {
	break;
  }
}  
echo 'Plus grand diviseur de ', $nombre, 
  		' : ', $divise, '&lt;hr&gt;';

//------------------------------------------------------
// Recherche des nombres premiers inférieurs à 100
$nombre = 1;
while ($nombre &lt; 100) {
  $divise = 2;
  while($nombre % $divise != 0) {
    $divise ++;
	if ($divise &gt;= $nombre) {
	  break;
	}
  }

  if ($divise == $nombre) {
    echo '&lt;br&gt;', $nombre, ' est un nombre premier';
  }
  $nombre ++;
}
?&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

		</section>

		<h3>Boucle avec for</h3>
		<section>

			<table class="TAB-sans-bord">
				<tr>
					<td><pre data-code="PHP">
for (expression_1; expression_2; expression_3) {
	instruction;
	...
}</pre>
						<p>&nbsp;</p>
						<p class="fp-puce">
							<span class="fp-code">for</span> est une instruction de boucle,
							qui répéte le bloc d'instruction tant que la condition contenue
							dans <span class="fp-code">expression_2</span> est évaluée comme
							<span class="fp-code">true</span>.
						</p>
						<p>
							Le contenu de <span class="fp-code">expression_1</span> est
							d'abord exécuté (une seule fois), puis <span class="fp-code">expression_2</span>
							est évaluée.<br> Si l'évaluation est vraie, les instructions
							du bloc sont exécutées, puis <span class="fp-code">expression_3</span>
							est exécutée.<br> Si l'évaluation est fausse, les
							instructions du bloc ne sont plus exécutées et le script continue
							par l'instruction directement aprés le bloc.
						</p></td>
					<td class="fp-t-center"><img src="../phpimg/for.gif"
						width="165" height="334" align="right" alt=""></td>
				</tr>
			</table>
			<p class="fp-puce">
				L'instruction <span class="fp-code">break</span> permet de forcer la
				sortie de la boucle.<br>Dans le cas de boucles imbriquées, <span
					class="fp-code">break</span> peut être suivi d'un nombre indiquant
				le nombre d'imbriquations à arrêter.
			</p>
			<p class="fp-puce">
				L'instruction <span class="fp-code">continue</span> permet de sauter
				à la prochaine itération dans la boucle.<br>Dans le cas de
				boucles imbriquées, <span class="fp-code">continue</span> peut être
				suivi d'un nombre indiquant le nombre d'imbriquations à sauter.
			</p>

			<p class="fp-bottom0 fp-puce">Généralement :</p>
			<ul class="fp-ul-puce">
				<li><span class="fp-code">expression_1</span> sert à
					initialiser le compteur d'itération et éventuellement d'autres
					variables.</li>
				<li><span class="fp-code">expression_2</span> contient la
					condition d'éxécution de la boucle.</li>
				<li><span class="fp-code">expression_3</span> contient
					l'instruction d'incrément (ou de décrément) du compteur
					d'itération.</li>
			</ul>

			<form action="" method="post" class="TEST-form">
				<div class="TEST-titre">
					<strong>Exemple</strong> : boucle for
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
&lt;head&gt;&lt;title&gt;boucle for&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php

// Nombres premiers inférieurs à 100

for ($nombre = 1; $nombre &lt; 100; $nombre ++) {
  for ($divise = 2; $divise &lt; $nombre; $divise ++) {
    if ($nombre % $divise == 0) {
      break;
    }
  }
  if ($divise == $nombre) {
    echo &quot;&lt;br&gt;$nombre est un nombre premier&quot;;
  }
}

?&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<p class="fp-puce">
				Plusieurs expressions peuvent être définies dans <span
					class="fp-code">expression_1</span>, <span class="fp-code">expression_2</span>
				et <span class="fp-code">expression_3</span>. Il suffit de les
				séparer par des virgules :
			<pre data-code="PHP">
for ($i = 0, $j = 10; $i &gt; 10, $j &gt; 50; $i++, $j *= 2) {
	...
}</pre>

			<form action="" method="post" class="TEST-form">
				<div class="TEST-titre">
					<strong>Exemple</strong> : boucle for
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
&lt;head&gt;&lt;title&gt;boucle for&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php

// Les 14 premiers nombres de la suite de Fibonacci

for ($i = $a = 0, $b = 1; $i &lt; 7; $i++, $a += $b, $b += $a) {
    echo '&lt;br&gt;', $a, '&lt;br&gt;', $b;
}

?&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>


			<a id="exo_table_mult"></a>
			<h3 class="fp-exo">Exercice : table de multiplications</h3>
			<section>

				<p>
					En utilisant l'instruction <span class="fp-code">for</span>,
					écrivez la page permettant de générer le résultat ci-dessous.
				</p>

				<figure>
					<img class="fp-img" src="../phpimg/table_multiplication.png"
						width="314" height="349">
					<figcaption>table de multiplication</figcaption>
				</figure>


				<p class="fp-solution">
					<a
						onclick="top.FP.Voir.showSolution('exo_table_mult_solu', 1)">Une
						solution possible</a>
				</p>

				<div id="exo_table_mult_solu" class="BLOC-solution">
					<form action="" method="post" class="TEST-form">
						<div class="TEST-titre">
							<strong>Exercice</strong> : table de multiplication
						</div>
						<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;Table de multiplication&lt;/title&gt;
    &lt;style&gt;
table {
  border-spacing: 0px;
  border: 1px solid;
  background-color: #ffc;
  }
td, th {
  width: 20px;
  text-align: center;
  padding: 4px;
  border: 1px solid;
  }
th { background-color: #FFFFBD; }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
&lt;?php
echo '&lt;h3&gt;Table de multiplication&lt;/h3&gt;&lt;table&gt;';

// Première ligne
echo '&lt;tr&gt;&lt;th&gt; X &lt;/th&gt;';

for ($i = 1; $i &lt; 10; $i++) {
  echo '&lt;th&gt;', $i, '&lt;/th&gt;';
}

echo '&lt;/tr&gt;';

// Le corps de la table
for ($i = 1; $i &lt; 10; $i ++) {
  // Première colonne
  echo '&lt;tr&gt;&lt;th&gt;', $i, '&lt;/th&gt;';

  // colonnes de multiplication
  for ($j = 1; $j &lt; 10; $j++) {
    echo '&lt;td&gt;', $i * $j, '&lt;/td&gt;';
  }

  echo '&lt;/tr&gt;';
}

echo '&lt;/table&gt;';
?&gt;
  &lt;/body&gt;
&lt;/html&gt;</textarea>
					</form>
				</div>

			</section>
		</section>

		<h3>Boucle avec foreach</h3>
		<section>

			<p class="fp-puce">
				L'instruction <span class="fp-code">foreach</span> permet de faire
				des itérations sur un tableau. Cette instruction est
				particulièrement utile dans PHP où les tableaux peuvent avoir des
				clés alphanumériques (table de hachage ou dictionnaire) ou bien des
				indices numériques non consécutifs.
			</p>
			<p class="fp-remarque">Un chapitre entier est consacré à
				l'utilisation des tableaux dans PHP et vous y trouverez toutes les
				informations détaillées sur la façon de réaliser des itérations.</p>
			<p class="fp-puce">
				L'instruction <span class="fp-code">foreach</span> définit une
				boucle exécutée automatiquement du premier au dernier élément d'un
				tableau. On ne peut donc pas choisir ni le premier élément "parcouru", ni
				l'élément de fin (à moins de sortir de la boucle avec une
				instruction <span class="fp-code">break</span>).
			</p>


			<p class="fp-puce">On présente ici les 2 syntaxes permettant d'accéder en consultation aux éléments d'un tableau.</p>
			<pre data-code="PHP">
foreach ($tableau as $valeur) {
	instruction
	...
}</pre>
			<p>
				Avec cette syntaxe, à chaque itération la valeur de l'élément
				courant du tableau <span class="fp-code">$tableau</span> est
				assignée à la variable <span class="fp-code">$valeur</span>. Le
				pointeur interne du tableau est avancé automatiquement d'un élément
				jusqu'à ce qu'il n'y ait plus d'élément dans le tableau.
			</p>

			<pre data-code="PHP">
foreach ($tableau as $cle =&gt; $valeur) {
	instruction
	...
}</pre>


			<p>
				Avec cette syntaxe, en plus de la valeur de l'élément courant
				assignée à la variable <span class="fp-code">$valeur</span>, la
				valeur de la clé de l'élément est assignée à la variable <span
					class="fp-code">$cle</span>.
			</p>

			<form action="" method="post" class="TEST-form">
				<div class="TEST-titre">
					<strong>Exemple</strong> : boucle foreach
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
&lt;head&gt;&lt;title&gt;Boucle foreach&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
echo '&lt;h3&gt;Tableau indice numérique&lt;/h3&gt;';

$tableau = array('Pierre', 'Paul', 'Jacques');

echo '&lt;hr&gt;&lt;b&gt;Première syntaxe&lt;/b&gt;';

foreach ($tableau as $valeur) { 
  echo '&lt;br&gt;', $valeur;
}

echo '&lt;hr&gt;&lt;b&gt;Deuxième syntaxe&lt;/b&gt;';

foreach ($tableau as $cle =&gt; $valeur) { 
  echo '&lt;br&gt;L\'élément ', $cle, ' contient ', $valeur;
}

?&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form">
				<div class="TEST-titre">
					<strong>Exemple</strong> : boucle foreach
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;fr&quot;&gt;
&lt;head&gt;&lt;title&gt;Boucle foreach&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;?php
echo '&lt;h3&gt;Tableau indice alphanumérique&lt;/h3&gt;';

$tableau = array('prénom' =&gt; 'François',
                 'nom' =&gt; 'Piat',
                 'bureau' =&gt; 409,
                 'tél' =&gt; '03.81.66.20.66');

echo '&lt;hr&gt;&lt;b&gt;Première syntaxe&lt;/b&gt;';

foreach ($tableau as $valeur) {
  echo '&lt;br&gt;', $valeur;
}

echo '&lt;hr&gt;&lt;b&gt;Deuxième syntaxe&lt;/b&gt;';

foreach ($tableau as $cle =&gt; $valeur) {
  echo '&lt;br&gt;L\'élément ', $cle, ' contient ', $valeur;
}

?&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
			</form>

		</section>
	</div>
	<footer></footer>
</body>
</html>