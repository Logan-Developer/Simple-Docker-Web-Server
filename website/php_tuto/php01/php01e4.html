<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les fonctions</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>

</head>
<body>

	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>

		<ul id="MENU-page"></ul>

		<p>
			Avec PHP nous pouvons appeler des fonctions basées sur la valeur
			d'une variable. Si le nom d'une variable est suivi de parenthèses,
			PHP recherchera si une fonction de même nom que la variable existe.
			Si c'est le cas la fonction sera exécutée. SI aucune fonction n'est
			trouvée une erreur sera générée. Nous pouvons utiliser la fonction
			standard 
			<a href="https://www.php.net/manual/fr/function.function-exists.php" target="_blank">function_exists()</a>
			pour savoir si une fonction est définie ou non.
		</p>
		<p>Considérons l'exemple suivant :</p>

		<pre data-code="PHP">
switch ($quoiFaire) {
case 'ajouter' :
  ajouter();
  break;
case 'supprimer' :
  supprimer();
  break;
case 'modifier' :
  modifier();
  break;
default :
  interdit();
}</pre>

		<p class="fp-remarque fp-inter2">On trouve très souvent ce type de décision
			dans les pages d'index de site, ou dans le modèle de conception MVC
			(Model-View-Controler).</p>

		<p>
			Nous pouvons utiliser une fonction variable à la place de ce code et
			le remplacer tout simplement par <span class="fp-code">$quoiFaire();</span>.<br>
			Si la variable <span class="fp-code">$quoiFaire</span> contient
			'ajouter', la fonction <span class="fp-code">ajouter()</span> sera
			invoquée, si la variable contient 'supprimer', la fonction <span
				class="fp-code">supprimer()</span> sera invoquée, si la variable
			contient 'modifier', la fonction <span class="fp-code">modifier()</span>
			sera invoquée.
		</p>
		<p>
			Nous avons un problème si <span class="fp-code">$quoiFaire</span>
			contient autre chose que 'ajouter', 'supprimer' ou 'modifier', car
			nous allons appeler une fonction dont le nom peut être n'importe
			quoi. Mais PHP nous donne la solution avec la fonction 
			<a href="https://www.php.net/manual/fr/function.function-exists.php" target="_blank">function_exists()</a>
			:
		</p>
		<pre data-code="PHP">
if (function_exists($quoiFaire) {
  $quoiFaire();
} else {
  interdit();
}</pre>

		<p>Nous pouvons aussi utiliser l'opérateur ternaire de test :</p>
		<pre data-code="PHP">
function_exists($quoiFaire) ? $quoiFaire() : interdit();
</pre>

	</div>
	<footer></footer>
</body>
</html>