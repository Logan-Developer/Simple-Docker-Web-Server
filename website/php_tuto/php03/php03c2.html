<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les chaînes de caractères</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>
</head>
<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>
		<ul id="MENU-page"></ul>

		<p class="fp-puce">Un bon mot de passe doit garantir l'accès aux
			données de votre site, qu'elles soient stockées dans une base, ou que
			l'interface de mise à jour soit protégée par une demande
			d'authentification. Ce mot de passe doit être le plus difficile à
			deviner pour un attaquant et le plus facile à mémoriser pour vous.
			Ces deux obligations semblent contradictoires, mais quelques astuces
			peuvent aider à construire des mots de passe de cette sorte.</p>

		<p class="fp-puce">Un mot de passe doit respecter certaines règles
			de complexité pour éviter qu'il ne soit découvert trop facilement. La
			compléxité d'un mot de passe est définie par sa longueur et par le
			nombre de valeurs différentes qu'un caractère peut prendre.</p>

		<p class="fp-puce fp-bottom0">
			Utilisez <b>plusieurs types de caractères </b>:
		<ul class="fp-ul-puce">
			<li>des caractères minuscules (abcde.....z)</li>
			<li>des caractères majuscules (ABCDE.....Z)</li>
			<li>des nombres (1234567890)</li>
			<li>des caractères "spéciaux" et accentués (par exemple
				!@#$%^&*()?èçà&ugrave;)</li>
		</ul>

		<p class="fp-puce fp-bottom0">Exemple : si votre mot de passe
			comporte 5 caractères :</p>
		<ul class="fp-ul-puce">
			<li>11 881 376 possibilités avec des minuscules</li>
			<li>380 204 031 possibilités avec des majuscules et minuscules</li>
			<li>2 406 784 457 possibilités avec des majuscules, des
				minsucules et 25 caractères spéciaux ou accentués.</li>
		</ul>

		<a id="remplacerCaracteres"></a>
		<h3 class="fp-exo">Exercice : mot de passe par remplacement</h3>
		<section>
			<p>Une méthode de mémorisation des mots de passe consiste à
				remplacer un caractère minuscule par un caractère spécial, le même
				caractère en majuscule ou un nombre.</p>

			<p class="fp-bottom0">Quelques substitutions classiques</p>
			<p style="float: right; width: 250px;">
				Avec cette méthode, <br>François devient Fr@nç01$, <br>motdepasse
				devient M07DéP@553 <br>et secret devient $3CrE7
			</p>
			<dl class="fp-dl-code">
				<dt>s</dt>
				<dd>est remplacé par S ou 5 ou $</dd>
				<dt>i</dt>
				<dd>est remplacé par I ou 1 ou !</dd>
				<dt>a</dt>
				<dd>est remplacé par A ou à ou @</dd>
				<dt>t</dt>
				<dd>est remplacé par T ou 7</dd>
				<dt>e</dt>
				<dd>est remplacé par E ou 3 ou é</dd>
				<dt>g</dt>
				<dd>est remplacé par G ou 6 ou 9</dd>
				<dt>o</dt>
				<dd>est remplacé par O ou 0</dd>
				<dt>b</dt>
				<dd>est remplacé par B ou 8</dd>
			</dl>



			<p>
				Ecrivez la fonction <span class="fp-code">remplacerCaracteres</span>
				qui implémente la mémorisation par remplacement de caractères. Cette
				fonction accepte comme paramètre la chaîne de caractères à
				transformer. Le traitement de substitution est constitué de 3
				étapes.
			<p class="fp-puce fp-bottom0">1 - Certains caractères
				accentuables sont accentués de la façon suivante :</p>
			<dl class="fp-dl-code fp-f-left fp-w40pc">
				<dt>a</dt>
				<dd>par à</dd>
				<dt>e</dt>
				<dd>par é</dd>
			</dl>
			<dl class="fp-dl-code fp-f-left fp-w40pc">
				<dt>c</dt>
				<dd>par ç</dd>
				<dt>u</dt>
				<dd>par ù</dd>
			</dl>

			<p class="fp-puce fp-clear">2 - Les caractères substituables sont
				remplacés de la façon suivante :</p>
			<dl class="fp-dl-code fp-f-left fp-w40pc">
				<dt>s</dt>
				<dd>par $ ou 5</dd>
				<dt>i</dt>
				<dd>par ! ou 1</dd>
				<dt>t</dt>
				<dd>par + ou 7</dd>
			</dl>
			<dl class="fp-dl-code fp-f-left fp-w40pc">
				<dt>g</dt>
				<dd>par ? ou 9</dd>
				<dt>o</dt>
				<dd>par . ou 0</dd>
			</dl>
			<p class="fp-clear">On remplace une fois par un caractère
				spécial, une fois par un chiffre.
			<p class="fp-puce">3 - On remplace les minuscules restantes (une
				sur deux) par la majuscule correspondante.</p>
			<p class="fp-puce">
				La fonction <span class="fp-code">remplacerCaracteres</span> renvoie
				la chaîne avec les caractères transformés.
			</p>
			<p>Exemples</p>
			<table>
				<tr bgcolor="#FFFFCE">
					<td>
						<p align="center">Chaîne</p>
					</td>
					<td>
						<p align="center">Etape 1</p>
					</td>
					<td>
						<p align="center">Etape 2</p>
					</td>
					<td>
						<p align="center">Etape 3</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">François</p>
					</td>
					<td>
						<p align="center">frànçois</p>
					</td>
					<td>
						<p align="center">frànç.1$</p>
					</td>
					<td>
						<p align="center">FràNç.1$</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">secret</p>
					</td>
					<td>
						<p align="center">séçrét</p>
					</td>
					<td>
						<p align="center">$éçré7</p>
					</td>
					<td>
						<p align="center">$éçRé7</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">motdepasse</p>
					</td>
					<td>
						<p align="center">motdépàssé</p>
					</td>
					<td>
						<p align="center">m.7dépà$5é</p>
					</td>
					<td>
						<p align="center">M.7déPà$5é</p>
					</td>
				</tr>
			</table>


			<p>Remarque : si la chaîne contient des espaces, ils doivent être
				supprimés.</p>
			<p class="fp-solution">
				<a onclick="top.FP.Voir.showSolution('remplacerCaracteres_solu', 1)">Une
					solution possible</a>
			</p>
			<div id="remplacerCaracteres_solu" class="BLOC-solution">
				<form action="" method="post" class="TEST-form">
					<a class="TEST-lien"
						onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_02.html')"
						title="Afficher la bibliothéque de fonctions"></a>
					<div class="TEST-titre">
						<strong>Exercice</strong> : création de mot de passe par
						remplacement
					</div>
					<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

function remplacerCaracteres($chaine) {
  $new = '';			// Contient la nouvelle chaîne
  $accents = 'àéçù';	// caractères accentués
  $aChanger = 'sitgo';	// caractères à remplacer
  $spex = '$!+?.';		// caractères spéciaux correspondants
  $chif = '51790';		// chiffres correspondants
  $spe = TRUE;			// remplacement spécial (ou chiffre)
  $maj = TRUE;			// remplacement par une majuscule

  $chaine = strtolower($chaine);
  $chaine = str_replace(' ','', $chaine);

  $t = array('a'=&gt;'à', 'e'=&gt;'é', 'c'=&gt;'ç','u'=&gt;'ù');
  $chaine = strtr($chaine, $t);
    
  // Examine la chaîne caractère par caractère
  for ($i = 0, $iMax = strlen($chaine); $i &lt; $iMax; $i++) {
	$car = $chaine{$i};
		
	// Si caractère accentué, on ne fait rien
	if (strpos($accents, $car) !== FALSE) {
	  $new .= $car;
	  continue;
	}
	// Remplacement par un spécial ou par un chiffre
	if (strpos($aChanger, $car) !== FALSE) {
	  $new .= strtr($car, $aChanger, ($spe) ? $spex : $chif);        
	  $spe = !$spe;
	  continue;
	}
	// Remplacement majuscule
	$new .= ($maj) ? strtoupper($car) : $car;
	$maj = !$maj;
  }
  
  return $new;
}

htmlDebut('Mot de passe par remplacement');

tester('remplacerCaracteres', 'François', 'FràNç.1$');
tester('remplacerCaracteres', 'secret', '$éçRé7');
tester('remplacerCaracteres', 'motdepasse', 'M.7déPà$5é');

htmlFin();
?&gt;</textarea>
				</form>
			</div>
		</section>

		<a id="melangerCaracteres"></a>
		<h3 class="fp-exo">Exercice : mots de passe par mélange</h3>
		<section>
			<p>La méthode de mémorisation de mots de passe par mélange
				consiste à prendre 2 ou plusieurs mots et à les mélanger suivant un
				certain ordre. Par exemple on prend le 1er caractère du premier mot,
				le 2eme caractère du second mot, le 3eme caractère du premier mot,
				le 4eme caractère du second mot, etc. A la place du deuxième mot, on
				peut avoir aussi une suite de nombre (par exemple artihmétique,
				géométrique, nombre premiers, PI, suite de Fibonacci, etc).</p>
			<p>Exemples</p>
			<table>
				<tr bgcolor="#FFFFCE">
					<td>
						<p align="center">Premier mot</p>
					</td>
					<td>
						<p align="center">Deuxième mot</p>
					</td>
					<td>
						<p align="center">Résultat</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">François</p>
					</td>
					<td>
						<p align="center">Piat</p>
					</td>
					<td>
						<p align="center">FPriaantçois</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">Piat</p>
					</td>
					<td>
						<p align="center">doubler les nombres</p>
					</td>
					<td>
						<p align="center">P1i2a4t8</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">secret</p>
					</td>
					<td>
						<p align="center">login</p>
					</td>
					<td>
						<p align="center">sleocgrient</p>
					</td>
				</tr>
			</table>

			<p class='fp-bottom0'>
				Ecrivez la fonction <span class="fp-code">melangerCaracteres</span>
				qui implémente la mémorisation par mélange de mots ou de modèles.
				Cette fonction accepte 2 paramètres :
			</p>
			<ul class="fp-ul-puce">
				<li>la chaîne de caractère à transformer</li>
				<li>la chaîne de caractères à mélanger.</li>
			</ul>

			<p class="fp-puce">Les espaces éventuels dans les chaînes doivent
				être enlevés.</p>
			<p class="fp-puce">Le 1er paramètre est la 1ere chaîne à
				transformer.</p>
			<p class="fp-puce">Si le deuxième paramètre est une chaîne de
				caractères (chaîne à mélanger), le traitement consiste à concaténer
				la 1ere lettre de la chaîne à transformer, puis la 1ere lettre de la
				chaîne à mélanger, puis la 2eme lettre de la chaîne à transformer,
				puis la 2eme lettre de la chaîne à mélanger, puis la 3eme lettre de
				la chaîne à transformer, puis la 3eme lettre de la chaîne à
				mélanger, etc..</p>
			<p class="fp-puce">Si le deuxième paramètre est un nombre
				positif, le traitement consiste à prendre le 1er caractère de la
				chaîne à tranformer, le nombre, le 2eme caractère de la chaîne, le
				nombre + 1, le 3eme caractère de la chaîne, le nombre + 2, etc.</p>
			<p class="fp-puce">Si le deuxième paramètre est un nombre
				négatif, les caractères de la chaîne à transformer sont répétés
				autant de > fois que le nombre, en commençant par la fin de cette
				chaîne (la chaîne est inversée).</p>
			<p class="fp-puce">
				La fonction <span class="fp-code">melangerCaracteres</span> renvoie
				la chaîne avec les caractères transformés.
			</p>
			<p>Exemples</p>
			<table>
				<tr bgcolor="#FFFFCE">
					<td>
						<p align="center">Chaîne à transformer</p>
					</td>
					<td>
						<p align="center">Chaîne à mélanger</p>
					</td>
					<td>
						<p align="center">Résultat</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">François</p>
					</td>
					<td>
						<p align="center">Piat</p>
					</td>
					<td>
						<p align="center">FPriaantçois</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">login</p>
					</td>
					<td>
						<p align="center">secret</p>
					</td>
					<td>
						<p align="center">lsoegcirnet</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">motde</p>
					</td>
					<td>
						<p align="center">passe</p>
					</td>
					<td>
						<p align="center">mpoatsdsee</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">Piat</p>
					</td>
					<td>
						<p align="center">3</p>
					</td>
					<td>
						<p align="center">P3i4a5t6</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">login</p>
					</td>
					<td>
						<p align="center">-2</p>
					</td>
					<td>
						<p align="center">nniiggooll</p>
					</td>
				</tr>
			</table>

			<p class="fp-solution">
				<a onclick="top.FP.Voir.showSolution('melangerCaracteres_solu', 1)">Une
					solution possible</a>
			</p>

			<div id="melangerCaracteres_solu" class="BLOC-solution">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_02.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<form action="" method="post" class="TEST-form">
					<div class="TEST-titre">
						<strong>Exercice</strong> : création de mot de passe par mélange
					</div>
					<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

function melangerCaracteres($chaine, $melange) {
    $chaine = str_replace(' ', '', $chaine);
    $iMaxC = strlen($chaine);
    $new = '';
    
	// Mélange de chaînes
	if (is_string($melange)) {
        $melange = str_replace(' ', '', $melange);
        $iMaxM= strlen($melange);
        
        // Boucle de mélange des caractères
        for ($i = 0; $i &lt; $iMaxC && $i &lt; $iMaxM; $i++) {
          $new .= $chaine{$i};
            $new .= $melange{$i};
        }
        // Si il reste des caractères dans une
        // ou l'autre des chaînes, on les ajoute tel que.
        $new .= substr($chaine, $i);
        $new .= substr($melange, $i);
		
		return $new;	// RETURN : fin mélange chaînes
	}
	
	// Traitement mélange négatif
    if (is_int($melange) && $melange &lt; 0) {
		// On retourne la chaîne
		$chaine = strrev($chaine);
		$melange *= -1;
		
		// On multiplie les caractères
        for ($i = 0; $i &lt; $iMaxC; $i++) {
          $car = $chaine{$i};
            $new .= str_repeat($car, $melange);
        }		
		
		return $new;	// RETURN : fin mélange négatif
	}
	
	// Traitement mélange positif
	if (is_int($melange) && $melange &gt; 0) {
        for ($i = 0; $i &lt; $iMaxC; $i++, $melange++) {
          $new .= $chaine{$i}.$melange;
        }
		return $new;	// RETURN : fin mélange positif
	}

	// Si on est ici c'est que le 2éme paramètre n'était pas 
	// bon. On retourne une chaîne vide.
    return $new;
}

htmlDebut('Mot de passe par mélange');

tester('melangerCaracteres', 'François', 'Piat', 'FPriaantçois');
tester('melangerCaracteres', 'login', 'secret', 'lsoegcirnet');
tester('melangerCaracteres', 'motde', 'passe', 'mpoatsdsee');
tester('melangerCaracteres', 'Piat', 3, 'P3i4a5t6');
tester('melangerCaracteres', 'login', -2, 'nniiggooll');

htmlFin();
?&gt;</textarea>
				</form>
			</div>
		</section>

		<a id="melangerPhrase"></a>
		<h3 class="fp-exo">Exercice : mots de passe à partir d'une phrase</h3>
		<section>
			<p>La méthode de mémorisation de mot de passe à partir d'une
				phrase consiste à prendre une phrase (ou une partie de phrase) et à
				ne garder que certains caractères (par exemple le premier caractère
				de chaque mot, ou le 2éme, ou le dernier, etc).</p>
			<p>Exemples</p>
			<table>
				<tr bgcolor="#FFFFCE">
					<td>
						<p align="center">Phrase</p>
					</td>
					<td>
						<p align="center">Méthode</p>
					</td>
					<td>
						<p align="center">Résultat</p>
				</tr>
				<tr>
					<td>
						<p align="center">12 avenue de mon adresse</p>
					</td>
					<td>
						<p align="center">1er caractère de chaque mot</p>
					</td>
					<td>
						<p align="center">1adma</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">que la force soit avec toi</p>
					</td>
					<td>
						<p align="center">2eme caractère de chaque mot</p>
					</td>
					<td>
						<p align="center">uaoovo</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">mot de passe secret</p>
					</td>
					<td>
						<p align="center">derniere caractère et premier caractère de
							chaque mot</p>
					</td>
					<td>
						<p align="center">tsepedtm</p>
					</td>
				</tr>
			</table>

			<p class='fp-bottom0'>
				Ecrivez la fonction <span class="fp-code">melangerPhrase</span> qui
				implémente la mémorisation à partir d'une phrase. Cette fonction
				accepte 2 paramètres :
			</p>
			<ul class="fp-ul-puce">
				<li>la phrase à transformer sous la forme d'une chaîne de
					caractères</li>
				<li>un type de mélange :<br> &nbsp;&nbsp;&nbsp;&nbsp;- 1er
					caractère de chaque mot<br> &nbsp;&nbsp;&nbsp;&nbsp;- dernier
					et premier caractères de chaque mot <br>
					&nbsp;&nbsp;&nbsp;&nbsp;- 1er caractère du premier mot, 2eme
					caractère du 2eme mot, 3eme caractère du 3eme mot, etc.
				</li>
			</ul>
			<p>
				Le traitement des mots de la phrase devra être fait avec une autre
				méthode que la fonction PHP <span class="fp-code">explode()</span>
				générant un tableau.
			<p>Exemples</p>
			<table>
				<tr bgcolor="#FFFFCE">
					<td>
						<p align="center">Phrase</p>
					</td>
					<td>
						<p align="center">Type</p>
					</td>
					<td>
						<p align="center">Résultat</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">que la force soit avec toi</p>
					</td>
					<td>
						<p align="center">1</p>
					</td>
					<td>
						<p align="center">qlfsat</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">mot de passe secret</p>
					</td>
					<td>
						<p align="center">2</p>
					</td>
					<td>
						<p align="center">tmedepts</p>
					</td>
				</tr>
				<tr>
					<td>
						<p align="center">1 rue des Quatre Chemins</p>
					</td>
					<td>
						<p align="center">3</p>
					</td>
					<td>
						<p align="center">1usti</p>
					</td>
				</tr>
			</table>
			<p>
				La fonction <span class="fp-code">melangerPhrase</span> renvoie la
				chaîne avec les caractères transformés.
			</p>
			<p class="fp-solution">
				<a onclick="top.FP.Voir.showSolution('melangerPhrase_solu', 1)">Une
					solution possible</a>
			</p>

			<div id="melangerPhrase_solu" class="BLOC-solution">
				<form action="" method="post" class="TEST-form">
					<a class="TEST-lien"
						onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_02.html')"
						title="Afficher la bibliothéque de fonctions"></a>
					<div class="TEST-titre">
						<strong>Exercice</strong> : création de mot de passe à partir
						d'une phrase
					</div>
					<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

function melangerPhrase($txt, $type) {
	$txt = trim($txt);
	$new = '';

	// 1er caractère de chaque mot
	if ($type === 1) {
		$new = $txt{0};
		for ($i = 1, $iMax = strlen($txt); $i &lt; $iMax; $i++) {
			if ($txt{$i} == ' ') {
				$i++;
				$new .= $txt{$i};
			}
		}

		return $new;	// RETURN : fin type 1
	}

	// dernier et 1er caractère de chaque mot
	if ($type === 2) {
		$mot = '';
		$txt .= ' ';
		for ($i = 0, $iMax = strlen($txt); $i &lt; $iMax; $i++) {
			if ($txt{$i} == ' ') {
				$new .= substr($mot, -1);
				$new .= $mot{0};
				$mot = '';
				$i ++;
			}
			$mot .= $txt{$i};
		}

		return $new;	// RETURN : fin type 2
	}

	// 1er caractère 1er mot, 2eme du 2eme mot ...
	if ($type === 3) {
		$txt = ' '.$txt;
		$next = 0;
		for ($i = 0, $iMax = strlen($txt); $i &lt; $iMax; $i++) {
			if ($txt{$i} == ' ') {
				$next ++;
				$new .= $txt{$i + $next};
			}
		}

		return $new;	// RETURN : fin type 3
	}

	// Si on est ici c'est que le 2éme paramètre n'était pas 
	// bon. On retourne une chaîne vide.
	return $new;
}

htmlDebut('Mot de passe par mélange');

tester('melangerPhrase', 
       'que la force soit avec toi', 1, 'qlfsat');
tester('melangerPhrase', 'mot de passe secret', 2, 'tmedepts');
tester('melangerPhrase', '1 rue des Quatre Chemins', 3, '1usti');


htmlFin();
?&gt;</textarea>
				</form>
			</div>
		</section>

	</div>
	<footer></footer>
</body>
</html>