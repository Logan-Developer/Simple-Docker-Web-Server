<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les chaînes de caractères</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>
</head>
<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>
		<ul id="MENU-page"></ul>

		<h3>Sous-chaînes</h3>
		<section>
			<p>Trois fonctions permettent de travailler sur des parties de
				chaînes.</p>
			<ul class="fp-ul-1em">
				<li><a
					href="https://www.php.net/manual/fr/function.substr.php" target="_blank">substr()</a>
					renvoie une partie de chaîne. Cette fonction est très souvent
					utilisée et offre de nombreuses façons différentes pour se
					positionner et sélectionner les parties de chaînes. Le recours à la
					doc PHP est très important pour ne pas passer à côté d'une façon ou
					d'une autre quand on débute.
				<li><a
					href="https://www.php.net/manual/fr/function.substr-count.php" target="_blank">substr_count()</a>
					compte combien d'occurence d'une chaîne se trouve dans une autre.
				<li><a
					href="https://www.php.net/manual/fr/function.substr-replace.php" target="_blank">substr_replace()</a>
					remplace une chaîne à l'intérieur d'une autre chaîne.
			</ul>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_01.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : parties de chaînes
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Parties de chaînes');

$x = 'Le langage PHP est un langage facile à apprendre';

echo '&lt;h4&gt;Chaîne de test&lt;/h4&gt;', $x;

echo '&lt;h4&gt;Position 3, 8 caractères&lt;/h4&gt;',
     substr($x, 3 , 8);

echo '&lt;h4&gt;Position 10, jusqu\'à la fin de la chaîne&lt;/h4&gt;',
     substr( $x, 10);

echo '&lt;h4&gt;Les 7 derniers caractères&lt;/h4&gt;',
     substr($x, -7);

echo '&lt;h4&gt;Nombre de caractère "a"&lt;/h4&gt;',
     substr_count($x, 'a');

echo '&lt;h4&gt;Nombre de mot "langage"&lt;/h4&gt;',
     substr_count($x, 'langage');

htmlFin();
?&gt;</textarea>
			</form>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_01.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : remplacement de chaîne
				</div>
				<textarea name="txtCode" class="TEST-textarea">&lt;?php
require('bib_fonctions.php');

htmlDebut('Remplacement de chaîne');

$x = 'Le langage PHP';

echo '&lt;h4&gt;Chaîne de test&lt;/h4&gt;', $x;

//------------------------------------------------------
echo '&lt;h4&gt;Remplace "langage" par "script"&lt;/h4&gt;';
$x = substr_replace($x, 'script', 3, 7);
// langage commence à la position 3 et il y a 7 caractères
echo $x;

//------------------------------------------------------
echo '&lt;h4&gt;Insérer sans remplacer&lt;/h4&gt;';
$x = substr_replace ($x, ' langage de', 2, 0);
// " langage de" est inséré à la position 2. 
// Il faut donner 0 comme nombre de caractères à remplacer
echo $x; 

//------------------------------------------------------
echo '&lt;h4&gt;Supprimer des caractères&lt;/h4&gt;';
$x = substr_replace ($x, '', 10, 10);
// script est situé à la position 10
// il faut passer une chaîne vide à cette position
echo $x;

//------------------------------------------------------
echo '&lt;h4&gt;Position négative&lt;/h4&gt;';
$x = substr_replace ($x, 'HTML', -3, 3);
// On peut travailler à partir de la fin de la chaîne
// en donnant une position négative
echo $x;

htmlFin();
?&gt;</textarea>
			</form>
		</section>

		<h3>Transformer une chaîne en tableau</h3>
		<section>
			<p>
				Si un même délimiteur est utilisé pour séparer les parties d'une
				chaîne, elle peut être transformée en tableau très facilement avec
				la fonction <a
					href="https://www.php.net/manual/fr/function.explode.php" target="_blank">explode()</a>.
			</p>
			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_01.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : transformer une chaîne en tableau
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Transformer une chaîne en tableau');

echo '&lt;h4&gt;Exemple séparateur -&lt;/h4&gt;';

$x = 'François-Piat-407C';
$t = explode('-', $x);

foreach($t as $cle =&gt; $valeur) {
  echo '&lt;br&gt;', $cle, ' = ', $valeur;
}


echo '&lt;h4&gt;Exemple séparateur espace&lt;/h4&gt;';

$x = 'Je m\'appelle François Piat';
$t = explode(' ', $x);

for ($i = 0; $i &lt; count($t); $i++) {
  echo '&lt;br&gt;', $i, ' = ', $t[$i];
}

htmlFin();
?&gt;</textarea>
			</form>

		</section>

		<h3>Décomposer une URL</h3>
		<section>
			<p>
				La fonction <a
					href="https://www.php.net/manual/fr/function.parse-url.php" target="_blank">parse_url</a>
				retourne un tableau des composants d'une Url. Les clés possibles du
				tableau sont : <span class="fp-code">scheme</span>, <span
					class="fp-code">host</span>, <span class="fp-code">port</span>, <span
					class="fp-code">user</span>, <span class="fp-code">pass</span>, <span
					class="fp-code">path</span>, <span class="fp-code">query</span> et
				<span class="fp-code">fragment</span>.
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_01.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : décomposer une URL
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Décomposer une URL');

$x = 'http://www.site.com/repert/page.html?a=100&b=200';
$t = parse_url($x);

echo "Parties de l'url $x &lt;pre&gt;";
print_r($t);

htmlFin();
?&gt;
</textarea>
			</form>

		</section>
	</div>
	<footer></footer>
</body>
</html>