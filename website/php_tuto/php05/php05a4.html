<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les tableaux</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>
</head>
<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>
		<ul id="MENU-page"></ul>

		<h3>Fusionner des tableaux</h3>
		<section>

			<p class="fp-puce">
				La fonction <a
					href="https://www.php.net/manual/fr/function.array-merge.php" target="_blank">array_merge()</a>
				crée un tableau <b>à partir de la fusion de plusieurs tableaux</b>.
				Si une clé numérique existe déjà dans un des tableaux, une nouvelle
				est créée. Si une clé alpha existe déjà, la valeur précédente est
				remplacée par la nouvelle.
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_04.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : fusion de tableaux
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Fusion de tableaux');

$t1 = array(1, 2, 3, 4);
$t2 = array(10, 20, 30);
$t3 = array(100, 200);

$t = array_merge($t1, $t2, $t3);
infoTableau($t);

$t3 = array('B41d' =&gt; 'Pierre','D12z' =&gt; 'Paul');
$t4 = array('B41d' =&gt; 'Jacques','C24a' =&gt; 'François');

$t = array_merge($t3, $t4);
infoTableau($t);

$t = array_merge($t1, $t4);
infoTableau($t);

htmlFin();
?&gt;</textarea>
			</form>
		</section>

		<h3>Difference de tableaux</h3>
		<section>
			<p class="fp-puce">
				La fonction <a
					href="https://www.php.net/manual/fr/function.array-diff.php" target="_blank">array_diff()</a>
				crée un tableau <b>à partir de la différence de plusieurs
					tableaux</b>. Les valeurs sont comparées avec l'opérateur d'égalité
				stricte (===) : elles doivent être égales et de même type. Seules
				les valeurs du premier tableau qui ne sont pas dans les autres sont
				"retournées".
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_04.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : différence de tableaux
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Différence de tableaux');

$t1 = array(1, 2, 3, 4, 5, 6, 7);
$t2 = array(0, 2, 3, 4, 5);
$t3 = array(5, 6, 8);

$t = array_diff($t1, $t2, $t3);

infoTableau($t);
			
htmlFin();
?&gt;</textarea>
			</form>

		</section>


		<h3>Filtrer un tableau</h3>
		<section>

			<p class="fp-puce">
				Nous pouvons <b>créer un tableau par le filtrage d'un autre</b> avec
				fonction <a
					href="https://www.php.net/manual/fr/function.array-filter.php" target="_blank">array_filter()</a>.
				La fonction accepte comme argument le tableau à filtrer, et le nom
				de la fonction utilisée pour le filtrage. Cette fonction doit
				renvoyer <span class="fp-code">true</span> pour indiquer que
				l'élément est à garder, ou <span class="fp-code">false</span> pour
				indiquer qu'il est à exclure. Le filtrage travaille uniquement sur
				la valeur des éléments et non sur leur clé. Dans le cas d'un tableau
				à indices numériques, les clés sont préservées, ce qui peut causer des trous dans
				la consécutivité des indices.
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_04.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : filtrage de tableau
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Filtrage de tableau');

htmlInfo('Extraction des nombres impaires');

$t = array(4, 9, 12, 23, 35, 18);
$tf = array_filter($t, 'impaire');
infoTableau($tf);

htmlInfo('Extraction des éléments contenant la lettre a');

$t = array('Pierre', 'Paul', 'Jacques');
$tf = array_filter($t, 'contient');
echo infoTableau($tf);

htmlFin();

//=====================================================
function impaire($val) {
  return ($val % 2 == 1);
}
//=====================================================
function contient($val) {
	return (strpos($val, 'a') !== false);
}
?&gt;</textarea>
			</form>

		</section>
	</div>
	<footer></footer>
</body>
</html>