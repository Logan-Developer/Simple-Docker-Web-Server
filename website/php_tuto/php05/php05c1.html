<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Les tableaux</title>
<link rel="stylesheet" href="../_local/codemirror.css">
<script src="../_local/codemirror_pour_php.js"></script>

<link rel="stylesheet" href="../_core/def.css">
<script>
	if (top.FP) {
		document.addEventListener('DOMContentLoaded', top.FP.initPage, false);
	} else {
		location.replace('../index.html?x=' + encodeURI(location.href));
	}
</script>
</head>
<body>
	<div id="MENU-top"></div>
	<nav id="MENU-tuto"></nav>

	<div id="PAGE-tuto">
		<header></header>
		<ul id="MENU-page"></ul>

		<p>Deux fonctions spécifiques à PHP permettent de créer des
			variables à partir des éléments contenus dans un tableau.</p>

		<h3>Extraires des variables d'un tableau</h3>
		<section>
			<p class="fp-puce">
				La fonction <a
					href="https://www.php.net/manual/fr/function.extract.php" target="_blank">extract()</a>
				est l'inverse de la fonction <a
					href="https://www.php.net/manual/fr/function.compact.php" target="_blank">compact()</a>
				vue précédemment. <a
					href="https://www.php.net/manual/fr/function.extract.php" target="_blank">extract()</a>
				crée une <b>liste de variables à partir du tableau</b> passé en
				paramètre. Les variables ont pour nom le nom des clés, et pour
				valeur les valeurs des élements. Cette fonction n'est utilisable
				qu'avec les tableaux associatifs car PHP n'accepte pas de nom de
				variable commençant par un nombre.
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_04.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : tableau en variables
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Tableau en variables');

$t['nom'] = 'Piat';
$t['prenom'] = 'François';
$t['bureau'] = 409;
$t['mail'] = 'francois.piat@univ-fcomte.fr';

infoTableau($t);

htmlInfo('Extraction de variables');
extract($t);

echo '&lt;br&gt;$nom = ', $nom,
     '&lt;br&gt;$prenom = ', $prenom,
     '&lt;br&gt;$bureau = ', $bureau,
     '&lt;br&gt;$mail = ', $mail;

htmlFin();
?&gt;</textarea>
			</form>

		</section>

		<h3>Nommer les variables extraites du tableau</h3>
		<section>
			<p class="fp-puce">
				La fonction <a
					href="https://www.php.net/manual/fr/function.list.php" target="_blank">list()</a>
				est comparable dans son résultat à la fonction <a
					href="https://www.php.net/manual/fr/function.extract.php" target="_blank">extract()</a>
				, mais elle permet de <b>nommer les variables extraites du
					tableau</b>, et donc de travailler avec des tableaux à indices numériques ou
				associatifs.
			</p>
				Tout comme <a
					href="https://www.php.net/manual/fr/function.array.php" target="_blank">array()</a>, 
				<a
					href="https://www.php.net/manual/fr/function.list.php" target="_blank">list()</a> 
					n'est pas une véritable fonction, mais une structure du langage
			<p class="fp-puce">
			</p>
			<p class="fp-puce">
				L'utilisation de <a
					href="https://www.php.net/manual/fr/function.list.php" target="_blank">list()</a> 
					est un peu particlière et la syntaxe
				est la suivante :<br> <span class="fp-code"><span
					class="fp-rouge">list(</span>$a, $b, $c<span class="fp-rouge">)</span>
					= $tableau;</span>
			</p>
			<p>
				Si la liste des noms de variables est plus petite que la taille du
				tableau, les éléments hors liste du tableau sont ignorés.<br>
				Si la liste des noms de variables est plus grande que la taille du
				tableau, les variables sans correspondance sont initialisées à <span
					class="fp-code">null</span>.<br> Des virgules consécutives
				dans la liste permettent de sauter des éléments dans le tableau.
			</p>

			<form action="" method="post" class="TEST-form">
				<a class="TEST-lien"
					onclick="top.FP.Voir.showPLUS('exemple/bib_fonctions_04.html')"
					title="Afficher la bibliothéque de fonctions"></a>
				<div class="TEST-titre">
					<strong>Exemple</strong> : tableau en variables
				</div>
				<textarea name="txtCode" class="TEST-textarea">
&lt;?php
require('bib_fonctions.php');

htmlDebut('Tableau en variables');

$t[] = 'Piat';
$t[] = 'François';
$t[] = 409;
$t[] = 'francois.piat@univ-fcomte.fr';
infoTableau($t);

htmlInfo('Tout le tableau en variables');
list($nom, $prenom, $bureau, $mail) = $t;

echo '$nom = ', $nom,
     '&lt;br&gt;$prenom = ', $prenom,
     '&lt;br&gt;$bureau = ', $bureau,
     '&lt;br&gt;$mail = ', $mail;
       
htmlInfo('Le 2eme et le 4eme élément');
list(, $p, , $m) = $t;

echo '$p = ', $p,
     '&lt;br&gt;$m = ', $m;

htmlInfo('Avec date et heure');
$d = date('Y-m-d-h-i-s');
list($aa, $mm, $jj, $hh, $mn, $ss) = explode('-', $d);

echo '$jj = ', $jj,
     '&lt;br&gt;$mm = ', $mm,
     '&lt;br&gt;$aa = ', $aa,
     '&lt;br&gt;$hh = ', $hh,
     '&lt;br&gt;$mn = ', $mn,
     '&lt;br&gt;$ss = ', $ss;

htmlFin();
?&gt;</textarea>
			</form>
		</section>

	</div>
	<footer></footer>
</body>
</html>